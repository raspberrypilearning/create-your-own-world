## Перемещение по миру

Спрайт `игрок` должен иметь возможность проходить через двери в другие комнаты.

Твой проект содержит фоны для дополнительных комнат:

![снимок экрана](images/world-backdrops.png)

\--- task \---

Создайте новую переменную 'для всех спрайтов' под названием `комната`{:class="block3variables"}, чтобы знать, в какой комнате находится спрайт `игрок`.

[[[generic-scratch3-add-variable]]]

![снимок экрана](images/world-room.png)

\--- /task \---

\--- task \---

Когда спрайт `игрок` коснется оранжевой двери в первой комнате, игра должна отобразить следующий фон, а спрайт `игрок` должен вернуться на левую сторону Сцены. Добавьте следующий код внутрь блока `повторять всегда`{:class="block3control"} спрайта `игрок`:

![игрок](images/player.png)

```blocks3
когда щёлкнут по зелёному флагу
повторять всегда 
  если <клавиша (стрелка вверх v) нажата? >, то 
    повернуться в направлении (0)
    идти (4) шагов
  end
  если <клавиша (стрелка влево v) нажата? >, то 
    повернуться в направлении (-90)
    идти (4) шагов
  end
  если <клавиша (стрелка вниз v) нажата? >, то 
    повернуться в направлении (-180)
    идти (4) шагов
  end
  если <клавиша [стрелка вправо v] нажата? >, то 
    повернуться в направлении (90)
    идти (4) шагов
  end
  если < касается цвета [#BABABA]? >, то 
    идти (-4) шагов
  end
  + если < касается цвета [#F2A24A]?>, то 
    переключить фон на (следующий фон v)
    перейти в x: (-200) y: (0)
    изменить [комната v] на (1)
  end
end
```

\--- /task \---

\--- task \---

Каждый раз, когда начинается игра, необходимо вернуть в исходное положение комнату, положение персонажа и фон.

Добавь код в **начало** спрайта `игрока` перед кодом `повторять всегда`{:class="block3control"}, чтобы вернуть всё начальное положение при нажатии флажка:

\--- hints \---

\--- hint \---

Когда начинается игра:

+ Значение `комната`{:class="block3variables"} должен быть установлен в `1`{:class="block3variables"}
+ `фон`{:class="block3looks"} должен быть установлен в `комната1`{:class="block3looks"}
+ Положение для спрайта `игрок` должно быть `x: -200 y: 0`{:class="block3motion"}

\--- /hint \---

\--- hint \---

Вот блоки кода, которые тебе нужны:

![игрок](images/player.png)

```blocks3
перейти в x: (-200) y: (0)

задать [комната v] значение (1)

переключить фон на (комната1 v)
```

\--- /hint \---

\--- hint \---

Вот как должен выглядеть твой законченный скрипт:

![игрок](images/player.png)

```blocks3
когда щёлкнут по зелёному флагу
+задать [комната v] значение (1)
+перейти в x: (-200) y: (0)
+переключить фон на (комната1 v)
повторять всегда 
  если <клавиша (стрелка вверх v) нажата? >, то 
    повернуться в направлении (0)
    идти (4) шагов
  end
  если <клавиша (стрелка влево v) нажата? >, то 
    повернуться в направлении (-90)
    идти (4) шагов
  end
  если <клавиша (стрелка вниз v) нажата? >, то 
    повернуться в направлении (-180)
    идти (4) шагов
  end
  если <клавиша [стрелка вправо v] нажата? >, то 
    повернуться в направлении (90)
    идти (4) шагов
  end
  если < касается цвета [#BABABA]? >, то 
    идти (-4) шагов
  end
  если < касается цвета [#F2A24A]?>, то 
    переключить фон на (следующий фон v)
    перейти в x: (-200) y: (0)
    изменить [комната v] на (1)
  end
end
```

\--- /hint \---

\--- /hints \---

\--- /task \---

\--- task \---

Нажми на флажок и затем перемещай спрайт `игрок` пока он не коснется оранжевой двери. Перешел ли спрайт на следующий экран? Изменилось ли значение переменной `комната`{:class="block3variables"} на `2`?

![снимок экрана](images/world-room-test.png)

\--- /task \---