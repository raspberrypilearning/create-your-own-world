## あなたの世界を動き回る

`プレイヤー` スプライトはドアを通って他の部屋に入ることができるはずです。

プロジェクトに追加の部屋の背景が含まれています。

![スクリーンショット](images/world-backdrops.png)

\--- task \---

`room`{：class = "block3variables"}という新しい 'for all sprites'変数を作成して、 `プレーヤー` スプライトがどのルームにあるかを追跡します。

[[[generic-scratch3-add-variable]]]

![スクリーンショット](images/world-room.png) \--- /task \---

\--- task \--- `プレイヤー` スプライトが最初の部屋のオレンジ色のドアに触れると、ゲームは次の背景を表示し、 `プレイヤー` スプライトはステージの左側に戻ります。 このコードを `プレーヤー` スプライトの `永久<code>`{：class = "block3control"}ループ内に追加します。

![プレーヤー](images/player.png)

```blocks3
<キー（上向き矢印v）が押されたらフラグが永久に
クリックしたとき
 > 次に方向
        指す（0）
        移動する（4）ステップ
    終了
 <キー（左矢印v）を押すと？ > から
        方向に
ポイント（-90）
        移動（4）ステップ
    終了
 <キー（下矢印v）が押されたら > そして
        方向を向く（-180）
        移動する（4）ステップ
    終了
 <キー[右矢印v]を押すと？ > その後
        方向（90）に点
        の動きは（4）ステップ
    の端部
    であれば < [#BABABA】タッチ色？ > 次に
    移動（-4）ステップ
    終了
+ < タッチ色[＃F2A24A] > 次に
    背景に（次の背景v）
    に切り替える
 xに移動：（-200）y：（0）
    change [room] v]×（1）
    端
端
```

\--- /task \---

\--- task \--- ゲームを開始するたびに、部屋、キャラクターの位置、背景をリセットする必要があります。

フラグがクリックされたときにすべてをリセットするために、 `永遠の`{：class = "block3control"}ループの上の `プレーヤー` スプライトコードの **開始** コードを追加します：

\---ヒント\--- \---ヒント\--- ゲームが始まるとき：

+ `room`{：class = "block3variables"}の値は、 `1`{：class = "block3variables"}に設定する必要があります。
+ `背景`{：class = "block3looks"}を `room1`{：class = "block3looks"}に設定します。
+ 位置 `プレーヤ` スプライトは、に設定されるべき `X：-200 Y：0`{= "block3motion"クラス} \--- /ヒント\--- \--- \---ヒント ここでは、追加されています必要なブロック

![プレーヤー](images/player.png)

```blocks3
x：（-200）y：（0）

[room v]を（1）

背景を（room1 v）に切り替える
```

\--- / hint \--- \--- hint \--- 完成したスクリプトは次のようになります。

![プレーヤー](images/player.png)

```blocks3
フラグがクリックされたときに
設定+ [ルームV]（1）〜
+は、Xに移動します（-200）、Y（0）
+（ROOM1 V）に背景を切り替え
永久
    であれば <（矢印Vアップ）キーが押され？ > 次に方向
        指す（0）
        移動する（4）ステップ
    終了
 <キー（左矢印v）を押すと？ > から
        方向に
ポイント（-90）
        移動（4）ステップ
    終了
 <キー（下矢印v）が押されたら > そして
        方向を向く（-180）
        移動する（4）ステップ
    終了
 <キー[右矢印v]を押すと？ > その後
        方向（90）に点
        の動きは（4）ステップ
    の端部
    であれば < [#BABABA】タッチ色？ > 次に
    の動きは（-4）ステップ
    端
    であれば < タッチ色[＃1 F2A24A] > 次いで
    （次背景V）にスイッチ背景を
    （-200）Y：（0）Xに移動
    変化[部屋vを]（1）
終了
終了
```

\--- /hint \--- \--- /hints \---

\--- /task \---

\--- task \--- 旗をクリックし、オレンジ色のドアに触れるまで `プレーヤー` スプライトを移動させます。 スプライトは次の画面に移動しますか？ `room`{：class = "block3variables"}変数は `2`変わりますか？

![スクリーンショット](images/world-room-test.png) \--- /task \---