## ドアとキー

あなたの世界のドアのいくつかがロックされていて、プレーヤーが進行する鍵を見つけなければならない場合はどうなりますか？

+ `キー` スプライトに切り替えます。 それを右クリックして、ステージ</strong> に表示されるように **表示**を選択します。

+ `キー` スプライトのコスチュームを青色に編集します。

+ ステージの背景を部屋3に切り替え、 `キー` スプライトをどこかに届かない場所に置きます！
    
    ![スクリーンショット](images/world-key.png)

+ `キー` スプライトにコードを追加して、部屋3にのみ表示されるようにします。

+ `inventory`{：class = "blockdata"}という新しいリスト変数を作成します。 これは、あなたの `プレイヤー` スプライトが集めるすべてのアイテムを格納する場所です。

[[[generic-scratch-make-list]]]

+ キーを収集するコードは、コインを回収するコードと非常によく似ています。 違いは、インベントリにキーを追加することです。

```blocks
    フラグがクリックされたとき
 <touching [player v]?>
    まで待つ[青いキー]を[inventory v]に追加
    stop [スプライトvの他のスクリプト]
    hide
```

+ `キー` スプライトをテストして、それを収集して在庫に追加できるかどうかを確認します。 ステージの開始時に在庫を空にするコードを追加することを忘れないでください。

```blocks
    [inventory v]の削除（すべてv）
```

+ さあ、ロックされたドアを追加しましょう。 `ドア青` スプライトを右クリックして **表示**を選択し、2つの壁の間隙にスプライトを配置します。

![スクリーンショット](images/world-door.png)

+ `ドア青` スプライトにコードを追加し、部屋3にのみ表示されるようにします。

+ `ドア青` スプライトはあなたの許可するように非表示にする `プレイヤー` あなたのインベントリに青い鍵を持っていたら、スプライトが通過します。

```blocks
    フラグがクリックされたときに
    になるまで待ち <[在庫V]が[青キー】含ま>
    ストップ[スプライトVの他のスクリプト]
    隠します
```

+ あなたのプロジェクトをテストし、ドアを開くために青いキーを収集できるかどうか確認してください！