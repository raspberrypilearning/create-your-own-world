## 门和钥匙

现在，您将添加代码，以便游戏世界中的某些门被锁定，并且玩家必须找到钥匙才能打开它们并进入下一个房间。

\--- task \--- 切换到 `键` 精灵。 在Scripts菜单中单击 `show`{：class =“blocklooks”}，以便精灵出现在舞台上。 \--- /task \---

\---任务\--- 编辑 `键` 精灵的服装，使其为蓝色。 \--- /task \---

\---任务\--- 将舞台背景切换到3号房间，并将 `键` 精灵放置在难以触及的地方！

![截图](images/world-key.png)

\--- /task \---

\--- task \--- 将代码添加到 `键` 精灵中，使其仅在3号房间可见。 \--- /task \---

\--- task \--- 创建一个名为 `inventory`{：class =“block3variables”}的新列表来存储你的 `玩家` 精灵收集的物品。

[[[generic-scratch3-make-list]]] \--- /任务\---

\--- task \--- 你需要添加的用于收集密钥的代码与收集硬币的代码非常相似。 不同之处在于您将密钥添加到 `清单`{：class =“block3variables”}。

![键](images/key.png)

```blocks3
当标记点击
等待 <touching (player v)?>
添加[蓝色键]到[库存v]
隐藏
停止[其他脚本在精灵v]
```

\--- /task \---

\--- task \--- 在游戏开始时向舞台添加代码以清空库存。

```blocks3
删除[所有v]的[库存v]
```

\--- /task \---

\---任务\--- 测试你的游戏，检查你是否可以收集 `键` 精灵并将其添加到你的库存。 \--- /task \---

\---任务\--- 现在添加锁着的门。 选择 `door-blue` sprite并在Scripts菜单中单击 `show`{：class =“blocklooks}，然后将精灵定位在两个墙之间的间隙上。

![截屏](images/world-door.png) \--- /task \---

\--- task \--- 将代码添加到 `门 - 蓝` 精灵中，使其仅在3号房间可见。 \--- /task \---

\--- task \--- 将代码添加到 `门蓝` 精灵中，这样，当密钥在 `库存`{：class =“block3variables”}中时，精灵 `隐藏`{：class =“block3looks “}允许你的 `玩家` 精灵通过。

![门](images/door.png)

```blocks3
当标志点击
等待 <[库存v]包含[蓝键]？>
停止[精灵v中的其他脚本]
隐藏
```

\--- /task \---

\---任务\--- 测试你的游戏，看看你是否可以收集蓝键来开门！ \--- /task \---